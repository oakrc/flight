(this.webpackJsonpflight=this.webpackJsonpflight||[]).push([[7],{200:function(t,e,a){},223:function(t,e,a){"use strict";a.r(e);var s=a(15),i=a(13),n=a(18),l=a(19),r=a(11),o=a(20),d=a(0),u=a.n(d),h=(a(200),a(188)),c=a(196),p=a(190),m=a(52),g=a.n(m),f=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(n.a)(this,Object(l.a)(e).call(this,t))).state={email:"",password:"",emailValid:!0,passwordValid:!0,logInSuccess:!1,display:!1},a.logIn=a.logIn.bind(Object(r.a)(a)),a}return Object(o.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.setState({display:!0})}},{key:"updateEmail",value:function(t){/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)&&0!==t.length||this.setState({email:t,emailValid:!1}),0!==t.length&&/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)&&this.setState({email:t,emailValid:!0})}},{key:"updatePwd",value:function(t){0===t.length?this.setState({password:t,passwordValid:!1}):this.setState({password:t,passwordValid:!0})}},{key:"enterKeyPress",value:function(t){"Enter"===t.key&&this.logIn()}},{key:"logIn",value:function(){var t=this;/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(this.state.email)&&0!==this.state.email.length||this.setState({emailValid:!1}),0===this.state.password.length&&this.setState({passwordValid:!1}),0!==this.state.password.length&&0!==this.state.email.length&&/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(this.state.email)&&g.a.post("http://oak.hopto.org:3000/user",{email:this.state.email,password:btoa(this.state.password)},{withCredentials:!0}).then((function(e){200===e.status&&(t.setState({email:"",password:"",logInSuccess:!0}),t.props.logIn())})).catch((function(e){t.setState({password:""})}))}},{key:"close",value:function(){this.setState({display:!1})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",{className:"loginchild ".concat(this.state.display?"shownnozfast":"hiddenfast")},u.a.createElement(h.a,{elevation:5},u.a.createElement("h1",null,"Log In"),u.a.createElement(c.a,{id:"outlined-basic",type:"email",label:"Email",variant:"outlined",value:this.state.email,onChange:function(e){return t.updateEmail(e.target.value)},error:!this.state.emailValid}),u.a.createElement(c.a,{id:"outlined-password-input",label:"Password",type:"password",autoComplete:"current-password",variant:"outlined",value:this.state.password,onChange:function(e){return t.updatePwd(e.target.value)},error:!this.state.passwordValid,onKeyPress:function(e){return t.enterKeyPress(e)}}),u.a.createElement(p.a,{variant:"contained",color:"primary",onClick:this.logIn},"Log In"),u.a.createElement(p.a,{color:"primary",variant:"outlined",onClick:function(){t.props.signUp(),t.close()}},"Sign Up")))}}]),e}(d.Component),v=a(65),w=a(66),b=function(t){function e(t){var a;Object(s.a)(this,e),a=Object(n.a)(this,Object(l.a)(e).call(this,t));var i=new Date;return i.setDate(i.getDate()-9125-6),a.pwdValidate=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})"),a.state={email:"",password:"",confirmpwd:"",firstName:"",lastName:"",birthday:i,gender:"",phoneNumber:"",firstNameValid:!0,lastNameValid:!0,genderEntered:!0,emailValid:!0,passwordValid:!0,confirmpwdValid:!0,phoneNumberValid:!0,display:!1},a.signUp=a.signUp.bind(Object(r.a)(a)),a}return Object(o.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.setState({display:!0})}},{key:"updateFName",value:function(t){""===t?this.setState({firstName:t,firstNameValid:!1}):this.setState({firstName:t,firstNameValid:!0})}},{key:"updateLName",value:function(t){""===t?this.setState({lastName:t,lastNameValid:!1}):this.setState({lastName:t,lastNameValid:!0})}},{key:"updateBirthday",value:function(t,e){null===e?this.setState({birthday:""}):this.setState({birthday:e})}},{key:"updateGender",value:function(t,e){this.setState({gender:e,genderEntered:!0})}},{key:"updatePhoneNumber",value:function(t){(/^\d+$/.test(t)||0===t.length)&&t.length<12&&(10===t.length||11===t.length&&"1"===t[0]?this.setState({phoneNumber:t,phoneNumberValid:!0}):this.setState({phoneNumber:t,phoneNumberValid:!1}))}},{key:"updateEmail",value:function(t){/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)&&0!==t.length||this.setState({email:t,emailValid:!1}),0!==t.length&&/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)&&this.setState({email:t,emailValid:!0})}},{key:"updatePwd",value:function(t){this.pwdValidate.test(this.state.password)&&/^[a-zA-Z0-9!@#$%^&*()_+-=/.,;']{8,}$/.test(t)?this.setState({password:t,passwordValid:!0}):this.setState({password:t,passwordValid:!1})}},{key:"updateConfirmPwd",value:function(t){t===this.state.password?this.setState({confirmpwd:t,confirmpwdValid:!0}):this.setState({confirmpwd:t,confirmpwdValid:!1})}},{key:"signUp",value:function(){var t=!0,e=!0,a=!0,s=!0,i=!0,n=!0,l=!0;""===this.state.firstName&&(t=!1),""===this.state.lastName&&(e=!1),0===this.state.gender.length&&(a=!1),/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(this.state.email)&&0!==this.state.email.length||(s=!1),this.pwdValidate.test(this.state.password)||(i=!1),this.state.password===this.state.confirmpwd&&0!==this.state.confirmpwd.length||(n=!1),10!==this.state.phoneNumber.length&&11!==this.state.phoneNumber.length&&"1"!==this.state.phoneNumber[0]&&(l=!1),t&&e&&a&&s&&i&&n&&l&&g.a.put("http://oak.hopto.org:3000/user",{first_name:this.state.firstName,last_name:this.state.lastName,birthday:this.state.birthday,gender:this.state.gender[0],phone_number:this.state.phoneNumber,email:this.state.email,password:btoa(this.state.password)},{withCredentials:!0}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})),this.setState({firstNameValid:t,lastNameValid:e,genderEntered:a,emailValid:s,passwordValid:i,confirmpwdValid:n,phoneNumberValid:l})}},{key:"close",value:function(){this.setState({display:!1})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",{className:"loginchild ".concat(this.state.display?"shownnozfast":"hiddenfast")},u.a.createElement(h.a,{elevation:5},u.a.createElement("h1",null,"Sign Up"),u.a.createElement("div",{className:"half-field"},u.a.createElement(c.a,{error:!this.state.firstNameValid,label:"First name",variant:"outlined",value:this.state.firstName,onChange:function(e){return t.updateFName(e.target.value)}}),u.a.createElement(c.a,{error:!this.state.lastNameValid,label:"Last name",variant:"outlined",value:this.state.lastName,onChange:function(e){return t.updateLName(e.target.value)}})),u.a.createElement("div",{className:"half-field"},u.a.createElement(w.a,{disableFuture:!0,label:"Birthdate",value:this.state.birthday,updater:function(e,a){t.updateBirthday(e,a)}}),u.a.createElement(v.a,{error:!this.state.genderEntered,label:"Gender",variant:"outlined",curr:this.state.gender,options:["Male","Female","Other","Prefer not to say"],updater:function(e,a){return t.updateGender(e,a)}})),u.a.createElement(c.a,{type:"tel",label:"Phone Number",variant:"outlined",value:this.state.phoneNumber,onChange:function(e){return t.updatePhoneNumber(e.target.value)},error:!this.state.phoneNumberValid}),u.a.createElement(c.a,{type:"email",label:"Email",variant:"outlined",value:this.state.email,onChange:function(e){return t.updateEmail(e.target.value)},error:!this.state.emailValid}),u.a.createElement(c.a,{label:"Password",type:"password",autoComplete:"current-password",variant:"outlined",value:this.state.password,onChange:function(e){return t.updatePwd(e.target.value)},error:!this.state.passwordValid}),u.a.createElement(c.a,{label:"Confirm Password",type:"password",autoComplete:"current-password",variant:"outlined",value:this.state.confirmpwd,onChange:function(e){return t.updateConfirmPwd(e.target.value)},error:!this.state.confirmpwdValid}),u.a.createElement(p.a,{variant:"contained",color:"primary",onClick:this.signUp},"Sign Up"),u.a.createElement(p.a,{color:"primary",variant:"outlined",onClick:function(){t.props.logIn(),t.close()}},"Log In")))}}]),e}(d.Component);a.d(e,"LogIn",(function(){return y}));var y=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(n.a)(this,Object(l.a)(e).call(this,t))).state={signingUp:!1},a.signUp=a.signUp.bind(Object(r.a)(a)),a.logIn=a.logIn.bind(Object(r.a)(a)),a}return Object(o.a)(e,t),Object(i.a)(e,[{key:"componentWillUnmount",value:function(){this.setState({signingUp:!1})}},{key:"signUp",value:function(){var t=this;setTimeout((function(){return t.setState({signingUp:!0})}),1e3)}},{key:"logIn",value:function(){var t=this;setTimeout((function(){return t.setState({signingUp:!1})}),1e3)}},{key:"render",value:function(){return u.a.createElement("div",{className:"LogIn"},this.state.signingUp?u.a.createElement(b,{logIn:this.logIn}):u.a.createElement(f,{signUp:this.signUp,logIn:this.props.logIn})," ")}}]),e}(d.Component);e.default=y}}]);
//# sourceMappingURL=7.36b15527.chunk.js.map